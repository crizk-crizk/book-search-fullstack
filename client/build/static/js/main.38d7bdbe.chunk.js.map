{"version":3,"sources":["component/BookNav.js","component/Header.js","utils/API.js","component/BookCard.js","component/BookList.js","utils/actions.js","utils/GlobalState.js","pages/SavedPage.js","component/Search.js","pages/SearchPage.js","App.js","reportWebVitals.js","index.js"],"names":["BookNav","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","className","Link","to","Header","Jumbotron","api","getBooks","query","axios","get","then","results","data","items","map","book","title","volumeInfo","authors","description","image","imageLinks","smallThumbnail","link","infoLink","getSavedBooks","console","log","deleteSavedBook","bookID","delete","BookCard","type","useState","show","setShow","target","useRef","Col","lg","Card","Img","variant","src","alt","Body","Title","Text","join","Button","onClick","event","preventDefault","window","open","ref","post","API","_id","Overlay","current","placement","props","Tooltip","BookList","books","Row","LOADING","UPDATE_LIST","SAVED_LIST","StoreContext","createContext","Provider","reducer","state","action","loading","list","savedlist","StoreProvider","value","useReducer","dispatch","useStoreContext","useContext","SavedPage","useEffect","result","Container","fluid","Search","searchRef","onSubmit","SearchPage","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.38d7bdbe.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar, Nav } from \"react-bootstrap\";\n\nconst BookNav = () => {\n  return (\n    <Navbar bg=\"light\" expand=\"sm\">\n      <Navbar.Brand href=\"#home\">Book Search</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"mr-auto\">\n          <Nav.Link>\n            <Link to=\"/saved\">Saved Books</Link>\n          </Nav.Link>\n          <Nav.Link>\n            <Link to=\"/\">Search Books</Link>\n          </Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default BookNav;\n","import React from \"react\";\nimport BookNav from \"./BookNav\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nconst Header = () => {\n  return (\n    <div>\n      <BookNav />\n      <Jumbotron className=\"text-center\">\n        <h1>Google Book Search</h1>\n        <h3>\n          Search for and Save Books of your Interest\n        </h3>\n      </Jumbotron>\n    </div>\n  );\n};\n\nexport default Header;\n","import axios from \"axios\";\n\nconst api = {\n  // GET searched books\n  getBooks: (query) => {\n    return axios\n      .get(\n        `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=10&printType=books`\n      )\n      .then((results) => {\n        return results.data.items.map((book) => {\n          return {\n            //one key per database header\n            title: book.volumeInfo.title,\n            authors: book.volumeInfo.authors,\n            description: book.volumeInfo.description,\n            image: book.volumeInfo.imageLinks?.smallThumbnail,\n            link: book.volumeInfo.infoLink,\n          };\n        });\n      });\n  },\n\n  getSavedBooks: () => {\n    return axios.get(\"/api/books\").then((results) => {\n      console.log(\"results: \", results);\n      return results.data;\n    });\n  },\n\n  deleteSavedBook: (bookID) => {\n    return axios.delete(`/api/books/${bookID}`);\n  },\n\n};\n\nexport default api;\n","import \"./BookCard.css\";\nimport Card from \"react-bootstrap/Card\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Tooltip from \"react-bootstrap/Tooltip\";\nimport Overlay from \"react-bootstrap/Overlay\";\nimport axios from \"axios\";\nimport React, { useState, useRef } from \"react\";\nimport API from \"../utils/API\";\n\nconst BookCard = ({ book, type }) => {\n  const [show, setShow] = useState(false);\n  const target = useRef(null);\n  const handleBookSave = (event) => {\n    setShow(!show);\n    event.preventDefault();\n\n    axios.post(\"/api/books\", book);\n  };\n\n  const handleBookView = (event) => {\n    event.preventDefault();\n    window.open(book.link);\n  };\n\n  const handleBookDelete = () => {\n    API.deleteSavedBook(book._id);\n  };\n  console.log(book);\n  return (\n    <Col lg=\"3\" className=\"bookCardWrapper\">\n      {/* ------------ */}\n      <Card className=\"bookCard\">\n        <div className=\"imgDiv\">\n        <Card.Img\n          variant=\"top\"\n          src={book.image}\n          alt=\"Book cover\"\n          className=\"bookCardImg\"\n        />\n        </div>\n        <Card.Body>\n          <Card.Title className=\"bookCardTitle\">{book.title}</Card.Title>\n          <Card.Text>\n            <h5 className=\"bookCardAuthor\">\n              Written By {book.authors?.join(\", \")}\n            </h5>\n            <p className=\"bookCardDescription\">{book.description}</p>\n          </Card.Text>\n          <Button\n            className=\"viewButton\"\n            variant=\"primary\"\n            onClick={handleBookView}\n          >\n            View\n          </Button>\n\n          <Button\n            ref={target}\n            variant=\"primary\"\n            onClick={type === \"search\" ? handleBookSave : handleBookDelete}\n          >\n            {type === \"search\" ? \"Save\" : \"Delete\"}\n          </Button>\n          <Overlay target={target.current} show={show} placement=\"right\">\n            {(props) => (\n              <Tooltip id=\"overlay-example\" {...props}>\n                Book Saved!\n              </Tooltip>\n            )}\n          </Overlay>\n        </Card.Body>\n      </Card>\n      {/* ------------ */}\n    </Col>\n  );\n};\n\nexport default BookCard;\n","import React from \"react\";\nimport BookCard from \"./BookCard\";\nimport Row from \"react-bootstrap/Row\";\n\nconst BookList = ({ books, type }) => {\n  console.log(\"books: \", books, type);\n  return (\n    <Row>\n      {books.map((book) => {\n        return <BookCard book={book} type={type} />;\n      })}\n    </Row>\n  );\n};\n\nexport default BookList;\n","export const LOADING = \"LOADING\";\nexport const UPDATE_LIST = \"UPDATE_LIST\";\nexport const SAVED_LIST = \"SAVED_LIST\";\n","import React, { createContext, useReducer, useContext } from \"react\";\nimport { LOADING, UPDATE_LIST, SAVED_LIST } from \"./actions\";\n\nconst StoreContext = createContext();\nconst { Provider } = StoreContext;\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case LOADING:\n      return {\n        ...state,\n        loading: true,\n      };\n    case UPDATE_LIST:\n      return {\n        ...state,\n        list: action.list,\n      };\n    case SAVED_LIST:\n      return {\n        ...state,\n        savedlist: action.list,\n      };\n    default:\n      return state;\n  }\n};\n\nconst StoreProvider = ({ value = [], ...props }) => {\n  const [state, dispatch] = useReducer(reducer, {\n    loading: false,\n    list: [],\n    savedlist: [],\n  });\n\n  return <Provider value={[state, dispatch]} {...props} />;\n};\n\nconst useStoreContext = () => {\n  return useContext(StoreContext);\n};\n\nexport { StoreProvider, useStoreContext };\n","import React, {useEffect} from \"react\";\nimport BookList from \"../component/BookList\";\nimport { SAVED_LIST } from \"../utils/actions\";\nimport API from \"../utils/API\";\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport Container from \"react-bootstrap/Container\";\n\n\nconst SavedPage = () => {\n  const [state, dispatch] = useStoreContext();\n\n  const updateSavedList = () => {\n    API.getSavedBooks().then((result) => {\n      dispatch({\n        type: SAVED_LIST,\n        list: result,\n      });\n    });\n  };\n\n  useEffect(() => {\n    //update the saved list\n    updateSavedList();\n  });\n\n  return (\n    <Container fluid >\n      <p>Saved Books</p>\n      <BookList books={state.savedlist} />\n    </Container>\n  );\n};\n\nexport default SavedPage;\n","import React, { useRef } from 'react'\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport { LOADING, UPDATE_LIST } from '../utils/actions';\nimport API from '../utils/API'\n\nconst Search = () => {\n  const searchRef = useRef();\n  const [state, dispatch] = useStoreContext();\n  console.log(\"state on Search.js:\", state);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    dispatch({type: LOADING});\n    API.getBooks(searchRef.current.value)\n    .then(result =>{\n      dispatch({\n        type: UPDATE_LIST,\n        list: result\n      })\n    })\n    searchRef.current.value = \"\";\n  }\n\n  return (\n    <div>\n      <h3>Book Search</h3>\n      <form onSubmit={handleSubmit}>\n      <input ref={searchRef}>\n      </input>\n      <button type=\"submit\">Search</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Search\n","import React from \"react\";\nimport Search from \"../component/Search\";\nimport { useStoreContext } from \"../utils/GlobalState\";\nimport BookList from \"../component/BookList\";\nimport Container from \"react-bootstrap/Container\";\n\n\nconst SearchPage = () => {\n  const [state] = useStoreContext();\n\n  return (\n    <Container fluid>\n      <p>Search Page</p>\n      <Search />\n      <BookList books={state.list} type=\"search\"/>\n    </Container>\n  );\n};\n\nexport default SearchPage;\n","import Header from \"./component/Header\";\nimport SavedPage from \"./pages/SavedPage\";\nimport SearchPage from \"./pages/SearchPage\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport { StoreProvider } from \"./utils/GlobalState\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <HashRouter>\n      <StoreProvider>\n        <Header />\n        <div className=\"App\">\n          <Switch>\n            <Route path=\"/saved\">\n              <SavedPage />\n            </Route>\n            <Route path=\"/\">\n              <SearchPage />\n            </Route>\n          </Switch>\n        </div>\n      </StoreProvider>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}