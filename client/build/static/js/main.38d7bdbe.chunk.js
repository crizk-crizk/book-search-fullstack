(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{72:function(e,t,c){},92:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(15),s=c.n(o),r=c(26),i=c(101),j=c(100),l=c(2),b=function(){return Object(l.jsxs)(i.a,{bg:"light",expand:"sm",children:[Object(l.jsx)(i.a.Brand,{href:"#home",children:"Book Search"}),Object(l.jsx)(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.jsx)(i.a.Collapse,{id:"basic-navbar-nav",children:Object(l.jsxs)(j.a,{className:"mr-auto",children:[Object(l.jsx)(j.a.Link,{children:Object(l.jsx)(r.b,{to:"/saved",children:"Saved Books"})}),Object(l.jsx)(j.a.Link,{children:Object(l.jsx)(r.b,{to:"/",children:"Search Books"})})]})})]})},u=c(53),d=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(b,{}),Object(l.jsxs)(u.a,{className:"text-center",children:[Object(l.jsx)("h1",{children:"Google Book Search"}),Object(l.jsx)("h3",{children:"Search for and Save Books of your Interest"})]})]})},h=c(14),O=c(12),x=(c(72),c(25)),v=c(41),f=c(54),p=c(56),k=c(58),m=c(24),g=c.n(m),S={getBooks:function(e){return g.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&maxResults=10&printType=books")).then((function(e){return e.data.items.map((function(e){var t;return{title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.smallThumbnail,link:e.volumeInfo.infoLink}}))}))},getSavedBooks:function(){return g.a.get("/api/books").then((function(e){return console.log("results: ",e),e.data}))},deleteSavedBook:function(e){return g.a.delete("/api/books/".concat(e))}},B=function(e){var t,c=e.book,a=e.type,o=Object(n.useState)(!1),s=Object(h.a)(o,2),r=s[0],i=s[1],j=Object(n.useRef)(null);return console.log(c),Object(l.jsx)(f.a,{lg:"3",className:"bookCardWrapper",children:Object(l.jsxs)(x.a,{className:"bookCard",children:[Object(l.jsx)("div",{className:"imgDiv",children:Object(l.jsx)(x.a.Img,{variant:"top",src:c.image,alt:"Book cover",className:"bookCardImg"})}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{className:"bookCardTitle",children:c.title}),Object(l.jsxs)(x.a.Text,{children:[Object(l.jsxs)("h5",{className:"bookCardAuthor",children:["Written By ",null===(t=c.authors)||void 0===t?void 0:t.join(", ")]}),Object(l.jsx)("p",{className:"bookCardDescription",children:c.description})]}),Object(l.jsx)(v.a,{className:"viewButton",variant:"primary",onClick:function(e){e.preventDefault(),window.open(c.link)},children:"View"}),Object(l.jsx)(v.a,{ref:j,variant:"primary",onClick:"search"===a?function(e){i(!r),e.preventDefault(),g.a.post("/api/books",c)}:function(){S.deleteSavedBook(c._id)},children:"search"===a?"Save":"Delete"}),Object(l.jsx)(k.a,{target:j.current,show:r,placement:"right",children:function(e){return Object(l.jsx)(p.a,Object(O.a)(Object(O.a)({id:"overlay-example"},e),{},{children:"Book Saved!"}))}})]})]})})},y=c(57),C=function(e){var t=e.books,c=e.type;return console.log("books: ",t,c),Object(l.jsx)(y.a,{children:t.map((function(e){return Object(l.jsx)(B,{book:e,type:c})}))})},I="LOADING",N="UPDATE_LIST",w="SAVED_LIST",T=c(59),D=Object(n.createContext)(),L=D.Provider,A=function(e,t){switch(t.type){case I:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case N:return Object(O.a)(Object(O.a)({},e),{},{list:t.list});case w:return Object(O.a)(Object(O.a)({},e),{},{savedlist:t.list});default:return e}},P=function(e){e.value;var t=Object(T.a)(e,["value"]),c=Object(n.useReducer)(A,{loading:!1,list:[],savedlist:[]}),a=Object(h.a)(c,2),o=a[0],s=a[1];return Object(l.jsx)(L,Object(O.a)({value:[o,s]},t))},E=function(){return Object(n.useContext)(D)},F=c(31),R=function(){var e=E(),t=Object(h.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){S.getSavedBooks().then((function(e){a({type:w,list:e})}))})),Object(l.jsxs)(F.a,{fluid:!0,children:[Object(l.jsx)("p",{children:"Saved Books"}),Object(l.jsx)(C,{books:c.savedlist})]})},_=function(){var e=Object(n.useRef)(),t=E(),c=Object(h.a)(t,2),a=c[0],o=c[1];console.log("state on Search.js:",a);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Book Search"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o({type:I}),S.getBooks(e.current.value).then((function(e){o({type:N,list:e})})),e.current.value=""},children:[Object(l.jsx)("input",{ref:e}),Object(l.jsx)("button",{type:"submit",children:"Search"})]})]})},G=function(){var e=E(),t=Object(h.a)(e,1)[0];return Object(l.jsxs)(F.a,{fluid:!0,children:[Object(l.jsx)("p",{children:"Search Page"}),Object(l.jsx)(_,{}),Object(l.jsx)(C,{books:t.list,type:"search"})]})},J=c(7);c(92);var V=function(){return Object(l.jsx)(r.a,{children:Object(l.jsxs)(P,{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(J.c,{children:[Object(l.jsx)(J.a,{path:"/saved",children:Object(l.jsx)(R,{})}),Object(l.jsx)(J.a,{path:"/",children:Object(l.jsx)(G,{})})]})})]})})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),o(e),s(e)}))};c(93);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(V,{})}),document.getElementById("root")),W()}},[[94,1,2]]]);
//# sourceMappingURL=main.38d7bdbe.chunk.js.map