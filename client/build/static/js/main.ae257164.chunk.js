(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{69:function(e,t,c){},89:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(15),s=c.n(o),r=c(101),i=c(100),l=c(2),j=function(){return Object(l.jsxs)(r.a,{bg:"light",expand:"sm",children:[Object(l.jsx)(r.a.Brand,{href:"#home",children:"Book Search"}),Object(l.jsx)(r.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(l.jsx)(r.a.Collapse,{id:"basic-navbar-nav",children:Object(l.jsxs)(i.a,{className:"mr-auto",children:[Object(l.jsx)(i.a.Link,{href:"/saved",children:"Saved Books"}),Object(l.jsx)(i.a.Link,{href:"/",children:"Search Books"})]})})]})},b=c(51),u=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),Object(l.jsxs)(b.a,{className:"text-center",children:[Object(l.jsx)("h1",{children:"Google Book Search"}),Object(l.jsx)("h3",{children:"Search for and Save Books of your Interest"})]})]})},d=c(14),h=c(12),O=(c(69),c(25)),v=c(38),x=c(52),f=c(54),p=c(58),k=c(24),m=c.n(k),g={getBooks:function(e){return m.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&maxResults=10&printType=books")).then((function(e){return e.data.items.map((function(e){var t;return{title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.smallThumbnail,link:e.volumeInfo.infoLink}}))}))},getSavedBooks:function(){return m.a.get("/api/books").then((function(e){return console.log("results: ",e),e.data}))},deleteSavedBook:function(e){return m.a.delete("/api/books/".concat(e))}},S=function(e){var t,c=e.book,a=e.type,o=Object(n.useState)(!1),s=Object(d.a)(o,2),r=s[0],i=s[1],j=Object(n.useRef)(null);return console.log(c),Object(l.jsx)(x.a,{lg:"3",className:"bookCardWrapper",children:Object(l.jsxs)(O.a,{className:"bookCard",children:[Object(l.jsx)("div",{className:"imgDiv",children:Object(l.jsx)(O.a.Img,{variant:"top",src:c.image,alt:"Book cover",className:"bookCardImg"})}),Object(l.jsxs)(O.a.Body,{children:[Object(l.jsx)(O.a.Title,{className:"bookCardTitle",children:c.title}),Object(l.jsxs)(O.a.Text,{children:[Object(l.jsxs)("h5",{className:"bookCardAuthor",children:["Written By ",null===(t=c.authors)||void 0===t?void 0:t.join(", ")]}),Object(l.jsx)("p",{className:"bookCardDescription",children:c.description})]}),Object(l.jsx)(v.a,{className:"viewButton",variant:"primary",onClick:function(e){e.preventDefault(),window.open(c.link)},children:"View"}),Object(l.jsx)(v.a,{ref:j,variant:"primary",onClick:"search"===a?function(e){i(!r),e.preventDefault(),m.a.post("/api/books",c)}:function(){g.deleteSavedBook(c._id)},children:"search"===a?"Save":"Delete"}),Object(l.jsx)(p.a,{target:j.current,show:r,placement:"right",children:function(e){return Object(l.jsx)(f.a,Object(h.a)(Object(h.a)({id:"overlay-example"},e),{},{children:"Book Saved!"}))}})]})]})})},B=c(55),y=function(e){var t=e.books,c=e.type;return console.log("books: ",t,c),Object(l.jsx)(B.a,{children:t.map((function(e){return Object(l.jsx)(S,{book:e,type:c})}))})},C="LOADING",I="UPDATE_LIST",N="SAVED_LIST",w=c(59),T=Object(n.createContext)(),D=T.Provider,L=function(e,t){switch(t.type){case C:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case I:return Object(h.a)(Object(h.a)({},e),{},{list:t.list});case N:return Object(h.a)(Object(h.a)({},e),{},{savedlist:t.list});default:return e}},A=function(e){e.value;var t=Object(w.a)(e,["value"]),c=Object(n.useReducer)(L,{loading:!1,list:[],savedlist:[]}),a=Object(d.a)(c,2),o=a[0],s=a[1];return Object(l.jsx)(D,Object(h.a)({value:[o,s]},t))},P=function(){return Object(n.useContext)(T)},E=c(30),F=function(){var e=P(),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){g.getSavedBooks().then((function(e){a({type:N,list:e})}))})),Object(l.jsxs)(E.a,{fluid:!0,children:[Object(l.jsx)("p",{children:"Saved Books"}),Object(l.jsx)(y,{books:c.savedlist})]})},R=function(){var e=Object(n.useRef)(),t=P(),c=Object(d.a)(t,2),a=c[0],o=c[1];console.log("state on Search.js:",a);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Book Search"}),Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o({type:C}),g.getBooks(e.current.value).then((function(e){o({type:I,list:e})})),e.current.value=""},children:[Object(l.jsx)("input",{ref:e}),Object(l.jsx)("button",{type:"submit",children:"Search"})]})]})},_=function(){var e=P(),t=Object(d.a)(e,1)[0];return Object(l.jsxs)(E.a,{fluid:!0,children:[Object(l.jsx)("p",{children:"Search Page"}),Object(l.jsx)(R,{}),Object(l.jsx)(y,{books:t.list,type:"search"})]})},G=c(56),J=c(7);c(89);var V=function(){return Object(l.jsx)(G.a,{children:Object(l.jsxs)(A,{children:[Object(l.jsx)(u,{}),Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(J.c,{children:[Object(l.jsx)(J.a,{path:"/saved",children:Object(l.jsx)(F,{})}),Object(l.jsx)(J.a,{path:"/",children:Object(l.jsx)(_,{})})]})})]})})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),o(e),s(e)}))};c(93);s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(V,{})}),document.getElementById("root")),W()}},[[94,1,2]]]);
//# sourceMappingURL=main.ae257164.chunk.js.map